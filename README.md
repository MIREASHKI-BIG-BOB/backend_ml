

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏

```python
from your_module import CTGDatasetBuilder

# –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "hypoxia_model.joblib")
analyzer = CTGDatasetBuilder(
    hypoxia_dir="",  # –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ
    regular_dir="",  # –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ
    model_path="hypoxia_model.joblib"
)

# –ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ predict()
```

### 2. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≥–∏–ø–æ–∫—Å–∏–∏

–ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ **DataFrame** –∏–ª–∏ **–º–∞—Å—Å–∏–≤ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** –≤ –ø–æ—Ä—è–¥–∫–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º `FEATURE_COLUMNS`:

```python
import pandas as pd

# –ü—Ä–∏–º–µ—Ä: –æ–¥–∏–Ω —Å—ç–º–ø–ª
sample = pd.DataFrame([{
    "mean_bpm": 142.5,
    "variability": 8.2,
    "accel_per_min": 2.1,
    "decel_per_min": 0.3,
    "uc_per_min": 3.5,
    "base_uc_tone": 12.0
}])

# –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏: [P(Regular), P(Hypoxia)]
proba = analyzer.predict(sample)
print(f"–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≥–∏–ø–æ–∫—Å–∏–∏: {proba[0][1]:.2%}")
# ‚Üí –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≥–∏–ø–æ–∫—Å–∏–∏: 12.34%
```

> ‚ö†Ô∏è –ö–æ–ª–æ–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è **—Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ**, –∫–∞–∫ –≤ `FEATURE_COLUMNS`.

### 3. –ë–∏–Ω–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ (0 = –Ω–æ—Ä–º–∞, 1 = –≥–∏–ø–æ–∫—Å–∏—è)

```python
prediction = analyzer.predict_hypoxia(sample)
print("–ì–∏–ø–æ–∫—Å–∏—è!" if prediction[0] == 1 else "–í—Å—ë –≤ –Ω–æ—Ä–º–µ")
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (FEATURE_COLUMNS)

–ú–æ–¥–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **—Ä–æ–≤–Ω–æ 6 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤**:

| –ü—Ä–∏–∑–Ω–∞–∫             | –û–ø–∏—Å–∞–Ω–∏–µ                                      | –¢–∏–ø    |
|---------------------|-----------------------------------------------|--------|
| `mean_bpm`          | –°—Ä–µ–¥–Ω—è—è –ß–°–° –ø–ª–æ–¥–∞ (—É–¥/–º–∏–Ω)                    | float  |
| `variability`       | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ß–°–° (–≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å)   | float  |
| `accel_per_min`     | –ß–∏—Å–ª–æ –∞–∫—Ü–µ–ª–µ—Ä–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É                    | float  |
| `decel_per_min`     | –ß–∏—Å–ª–æ –¥–µ—Ü–µ–ª–µ—Ä–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É                    | float  |
| `uc_per_min`        | –°–æ–∫—Ä–∞—â–µ–Ω–∏—è –º–∞—Ç–∫–∏ –≤ –º–∏–Ω—É—Ç—É                     | float  |
| `base_uc_tone`      | –ë–∞–∑–∞–ª—å–Ω—ã–π —Ç–æ–Ω—É—Å –º–∞—Ç–∫–∏ (–º–º —Ä—Ç. —Å—Ç. –∏–ª–∏ —É.–µ.)   | float  |

> –≠—Ç–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω—ã **–≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–æ–π** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤).

---

## üîÅ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –æ–Ω–ª–∞–π–Ω-–∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ `LiveCTGAnalyzer`

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ **—Å—ã—Ä—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã** (`fhr`, `uc`) –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `LiveCTGAnalyzer` ‚Äî –æ–Ω —Å–∞–º –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from your_module import LiveCTGAnalyzer

analyzer = LiveCTGAnalyzer(
    model_path="hypoxia_model.joblib",
    use_ml_prediction=True,
    window_minutes=10,
    fs=4  # —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏: 4 –ì—Ü
)

# –î–æ–±–∞–≤–ª—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è
analyzer.add_data(timestamp=0.0, fhr=140, uc=10)
analyzer.add_data(timestamp=0.25, fhr=142, uc=11)
# ... –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å

# –ß–µ—Ä–µ–∑ ~5 –º–∏–Ω—É—Ç –Ω–∞—á–Ω—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –≤ –∫–æ–Ω—Å–æ–ª—å
# (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –∏–ª–∏ ML-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ >70%)
```

> üí° `LiveCTGAnalyzer` **–Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é**, –∞ **–ø–µ—á–∞—Ç–∞–µ—Ç –∞–ª–µ—Ä—Ç—ã**.  
> –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ API –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `CTGDatasetBuilder.predict()`.

---

## üìÅ –ì–¥–µ –≤–∑—è—Ç—å –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å?

–ú–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.joblib` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `hypoxia_model.joblib`).  
–ï—Å–ª–∏ –µ—ë –Ω–µ—Ç ‚Äî –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –¥–∞—Ç–∞-—Å–∞–π–µ–Ω—Ç–∏—Å—Ç–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ:

```python
import os
assert os.path.exists("hypoxia_model.joblib"), "–ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!"
```

## üõë –í–∞–∂–Ω–æ!

- –ú–æ–¥–µ–ª—å **—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –∫ –º–∞—Å—à—Ç–∞–±—É –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ç–µ—Ö –∂–µ –µ–¥–∏–Ω–∏—Ü–∞—Ö, —á—Ç–æ –∏ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏.
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `train_model()` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –º–æ–¥–µ–ª–∏.
- –í—Å–µ –ø—É—Ç–∏ (`model_path`) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —á—Ç–µ–Ω–∏—è.

---

> ‚úÖ –¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≥–∏–ø–æ–∫—Å–∏–∏ –≤ —Å–≤–æ–π –±—ç–∫–µ–Ω–¥!
